# Tripvota Cursor Rules

## Monorepo

- `typescript-workspace`: ConnectRPC frontend
- `rust-workspace`: Backend services
- `share/proto`: Protobuf definitions

## Protobuf Workflow

1. Edit `.proto` in `share/proto`
2. Regenerate TS: `pnpm --filter @workspace/proto-gen generate` (commit generated files)
3. Rust: Auto-generates on build via `build.rs`

## ConnectRPC

- Keep proto changes backward-compatible
- Frontend: Import from `packages/proto-gen`
- Backend: Rebuild after proto updates

## Naming Conventions

**Database (PostgreSQL)**: snake_case tables/columns (`trip_cards`, `trip_id`, `created_at`)

**TypeScript**:

- Types: PascalCase from table names (`TripCard` from `trip_cards`)
- Fields: camelCase from columns (`tripId` from `trip_id`, `createdAt` from `created_at`)
- Props: PascalCase + `Props` suffix (`TripCardProps`)
- Draft/scheduled cards use unified `TripCard` type with `status` field

**Rust**: PascalCase entities (`TripCards`), snake_case fields (match DB)
